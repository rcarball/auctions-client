<!-- (Code generated by ChatGPT 4o mini) -->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
    <title >Article Details: [[${article.title}]]</title>
	<!-- Bootstrap JS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Font-awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-light">
	<!-- Header with logo and name -->
	<header class="bg-light shadow-sm">
	    <div class="container py-2 text-center">
	        <a href="/" class="text-decoration-none text-dark">
	            <i class="fas fa-gavel fa-2x me-2"></i>
	            <span class="fs-4" style="color: #4a4a4a;">Auctions App</span>
	        </a>
	    </div>
	</header>

	<!-- Navigation bar -->
	<nav class="navbar navbar-light bg-light shadow-sm">
	    <div class="container-fluid d-flex align-items-center">
	        <!-- Back button -->
			<a th:href="@{/category/{name}(name=${article.categoryName})}" class="btn btn-secondary btn-sm d-flex align-items-center">
			    <i class="fas fa-arrow-left me-2"></i> Back
			</a>
			
	        <!-- Login/Logout buttons -->
	        <div class="ms-auto">
	            <a th:if="${token == null}" th:href="@{/login(redirectUrl=${currentUrl})}" 
	               class="btn btn-primary btn-sm d-flex align-items-center">
	                <i class="fas fa-sign-in-alt me-2"></i> Login
	            </a>
	            <a th:if="${token != null}" th:href="@{/logout(redirectUrl=${currentUrl})}" 
	               class="btn btn-danger btn-sm d-flex align-items-center ms-2">
	                <i class="fas fa-sign-out-alt me-2"></i> Logout
	            </a>
	        </div>
	    </div>
	</nav>

	<div class="container mt-4">
        <!-- Article title and currency select -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 th:if="${article != null}" th:text="${article.title}">Article Title</h1>
            <h1 th:if="${article == null}" class="text-danger">Article not found.</h1>
            <form th:if="${article != null}" th:action="@{/article/{id}(id=${article.id})}" method="get" class="d-flex align-items-center">
				<label for="currency" class="form-label mb-0 me-2">Currency:</label>
				<select name="currency" id="currency" class="form-select form-select-sm w-auto" onchange="this.form.submit()">
				    <option value="EUR" th:selected="${selectedCurrency == 'EUR'}">€ EUR</option>
				    <option value="USD" th:selected="${selectedCurrency == 'USD'}">$ USD</option>
				    <option value="GBP" th:selected="${selectedCurrency == 'GBP'}">£ GBP</option>
				    <option value="JPY" th:selected="${selectedCurrency == 'JPY'}">¥ JPY</option>
				</select>
            </form>
        </div>
        <p th:if="${article != null}" class="fs-5"><strong>Current Price:</strong> 
			<span th:text="${#numbers.formatDecimal(article.currentPrice, 2, 2)}"></span>
			<span th:if="${selectedCurrency == 'EUR'}"><i class="fas fa-euro-sign"></i></span>
			<span th:if="${selectedCurrency == 'USD'}"><i class="fas fa-dollar-sign"></i></span>
			<span th:if="${selectedCurrency == 'GBP'}"><i class="fas fa-pound-sign"></i></span>
			<span th:if="${selectedCurrency == 'JPY'}"><i class="fas fa-yen-sign"></i></span>
        </p>
        <p th:if="${article != null}" class="fs-5"><strong>Bids:</strong> <span th:text="${article.bids}"></span></p>

	   <!-- Bid form -->
	    <div th:if="${token != null && article != null}">
	        <h3 class="mt-4">Place a Bid</h3>
	        <form th:action="@{/bid}" method="post" class="card p-4 shadow-sm">
	            <input type="hidden" th:name="id" th:value="${article.id}" />
	            <input type="hidden" th:name="currency" th:value="${selectedCurrency}" />
				<div class="mb-3">
				    <label for="amount" class="form-label">Bid Amount:</label>
				    <div class="d-flex align-items-center">
				        <input type="number" id="amount" name="amount" class="form-control" 
				               th:value="${article.currentPrice + 1}" 
				               th:min="${article.currentPrice + 1}" 
				               step="0.5" required />
				        <span class="ms-2" th:if="${selectedCurrency == 'EUR'}"><i class="fas fa-euro-sign"></i></span>
				        <span class="ms-2" th:if="${selectedCurrency == 'USD'}"><i class="fas fa-dollar-sign"></i></span>
				        <span class="ms-2" th:if="${selectedCurrency == 'GBP'}"><i class="fas fa-pound-sign"></i></span>
				        <span class="ms-2" th:if="${selectedCurrency == 'JPY'}"><i class="fas fa-yen-sign"></i></span>
				    </div>
				</div>
				<button type="submit" class="btn btn-primary w-100 d-flex align-items-center justify-content-center">
	                <i class="fas fa-gavel me-2"></i> Place Bid
	            </button>
	        </form>
	        <p th:if="${errorMessage}" th:text="${errorMessage}" class="text-danger mt-4"></p>
	        <p th:if="${successMessage}" th:text="${successMessage}" class="text-success mt-4"></p>
	    </div>
	    <p th:if="${token == null}" class="text-danger">Please <a th:href="@{/login(redirectUrl=${currentUrl})}">login</a> to place a bid.</p>      
	</div>
	
	<footer style="background-color: #f8f9fa; padding: 15px; text-align: center; border-top: 1px solid #ddd;">
	    <p style="margin: 0; font-size: 14px; color: #333;">
	        <i class="fas fa-graduation-cap" style="color: #007bff;"></i> 
	        Created for <strong>Software Design</strong> at the <strong>University of Deusto</strong>.
	    </p>
	</footer>

	<!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>